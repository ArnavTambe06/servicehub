{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\servicehub\\\\src\\\\contexts\\\\AuthContext.js\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport { auth } from '../firebaseInit';\nimport { onAuthStateChanged, setPersistence, browserLocalPersistence } from 'firebase/auth';\nexport const AuthContext = createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isProvider, setIsProvider] = useState(false); // You can set this based on user role from Firestore later\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // Set persistence to local storage so that the user (or provider) stays logged in until logout.\n    setPersistence(auth, browserLocalPersistence).then(() => {\n      onAuthStateChanged(auth, user => {\n        setCurrentUser(user);\n        // Optionally, check for the user's role in your Firestore to update isProvider\n        setLoading(false);\n      });\n    }).catch(error => {\n      console.error(\"Error setting persistence:\", error);\n      setLoading(false);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      currentUser,\n      isProvider,\n      setIsProvider\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, !loading && children);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","auth","onAuthStateChanged","setPersistence","browserLocalPersistence","AuthContext","AuthProvider","children","currentUser","setCurrentUser","isProvider","setIsProvider","loading","setLoading","then","user","catch","error","console","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Project/servicehub/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport { auth } from '../firebaseInit';\r\nimport {\r\n    onAuthStateChanged,\r\n    setPersistence,\r\n    browserLocalPersistence\r\n} from 'firebase/auth';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [isProvider, setIsProvider] = useState(false); // You can set this based on user role from Firestore later\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Set persistence to local storage so that the user (or provider) stays logged in until logout.\r\n        setPersistence(auth, browserLocalPersistence)\r\n            .then(() => {\r\n                onAuthStateChanged(auth, (user) => {\r\n                    setCurrentUser(user);\r\n                    // Optionally, check for the user's role in your Firestore to update isProvider\r\n                    setLoading(false);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error setting persistence:\", error);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ currentUser, isProvider, setIsProvider }}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SACIC,kBAAkB,EAClBC,cAAc,EACdC,uBAAuB,QACpB,eAAe;AAEtB,OAAO,MAAMC,WAAW,GAAGP,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMQ,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAC1C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EACrD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ;IACAG,cAAc,CAACF,IAAI,EAAEG,uBAAuB,CAAC,CACxCU,IAAI,CAAC,MAAM;MACRZ,kBAAkB,CAACD,IAAI,EAAGc,IAAI,IAAK;QAC/BN,cAAc,CAACM,IAAI,CAAC;QACpB;QACAF,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACN,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDJ,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIhB,KAAA,CAAAsB,aAAA,CAACd,WAAW,CAACe,QAAQ;IAACC,KAAK,EAAE;MAAEb,WAAW;MAAEE,UAAU;MAAEC;IAAc,CAAE;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACnE,CAACf,OAAO,IAAIL,QACK,CAAC;AAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}